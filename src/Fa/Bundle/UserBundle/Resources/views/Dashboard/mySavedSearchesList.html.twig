{% set userSearchAgentRepository  = fetch_repository('FaUserBundle:UserSearchAgent') %}
{% if pagination.getNbResults() %}
    {% for searchAgent in pagination.getCurrentPageResults() %}
        {{ include('FaUserBundle:UserSearchAgent:searchAgentDetail.html.twig', {'searchAgent':searchAgent}) }}
    {% endfor %}
    <div id="renameSavedSearch" class="reveal-modal tiny" data-reveal>
        <a class="close-reveal-modal">&#215;</a>
        <h5 class="modal-title">
            {{'Rename your saved search'|trans({}, 'frontend-my-saved-searches')}}
        </h5>
        <div class="modal-content remove-modal">
            <div class="row">
                <div class="columns">
                    <label>{{'New name'|trans({}, 'frontend-my-saved-searches')}}</label>
                </div>
            </div>
            <div class="row">
                <div class="columns">
                    <input type="text" name="txt_title" id="txt_title" maxlength="50">
                </div>
            </div>
            <div class="row">
                <div class="large-24 columns">
                    <button type="button" class="button secondary-btn-1 thin-btn expand mb0" onclick="closeRevealModel('#removeSavedSearch'); renameSavedSearch();">{{'Save changes'|trans({}, 'frontend-my-saved-searches')}}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="removeSavedSearch" class="reveal-modal tiny" data-reveal>
        <a class="close-reveal-modal">&#215;</a>
        <h5 class="modal-title">
            {{'Stop search alert'|trans({}, 'frontend-my-saved-searches')}}
        </h5>
        <div class="modal-content remove-modal">
            <div class="row">
                <div class="columns">
                    <h5>{{'Are you sure you want to stop this search alert?'|trans({}, 'frontend-my-saved-searches')}}</h5>
                </div>
            </div>
            <div class="mt20 remove-search-btn">
                <div class="row">
                    <div class="large-12 columns">
                        <button type="button" class="button secondary-btn-4 thin-btn expand mb0" onclick="closeRevealModel('#removeSavedSearch');removeSavedSearch();">{{'Ok'|trans({}, 'frontend-my-saved-searches')}}</button>
                    </div>
                    <div class="large-12 columns">
                        <button type="button" class="button secondary-btn-1 thin-btn expand mb0" onclick="closeRevealModel('#removeSavedSearch');">{{'Cancel'|trans({}, 'frontend-my-saved-searches')}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="blankTitleAlert" class="reveal-modal tiny" data-reveal>
        <a class="close-reveal-modal">&#215;</a>
        <h5 class="modal-title">
            {{'Blank title'|trans({}, 'frontend-my-saved-searches')}}
        </h5>
        <div class="modal-content remove-modal">
            <div class="row">
                <div class="columns">
                    <h5>{{'Sorry saved search name can not be blank!!'|trans({}, 'frontend-my-saved-searches')}}</h5>
                </div>
            </div>
            <div class="mt20">
                <div class="row">
                    <div class="large-24 columns">
                        <button type="button" class="button secondary-btn-4 thin-btn expand mb0" onclick="closeRevealModel('#blankTitleAlert'); renameSavedSearch();">{{'Ok'|trans({}, 'frontend-my-saved-searches')}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% else %}
    <div class="row">
        <div class="columns">
            {{ 'No records found.'|trans({}, 'frontend-my-favourites') }}
        </div>
    </div>
{% endif %}
