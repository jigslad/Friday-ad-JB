<script>
    $(document).ready(function(){
        var inputFields = $(':input');
        inputFields.keyup(function (){
            enableDisableNextButton()
        });
        inputFields.change(function (){
            enableDisableNextButton()
        });
        inputFields.on("input", function(){
            enableDisableNextButton()
        });
        $('#fa_paa_fourth_step_{{ categoryName }}_location_close').click(function (){
            enableDisableNextButton()
        });
        if (!$('#fa_paa_fourth_step_{{ categoryName }}_save').hasClass('disabled')) {
            $('#fa_paa_fourth_step_{{ categoryName }}_save').addClass('disabled');
        }
        if (!$('#fa_paa_fourth_step_{{ categoryName }}_preview').hasClass('disabled')) {
            $('#fa_paa_fourth_step_{{ categoryName }}_preview').addClass('disabled');
        }
        enableDisableNextButton()
        $("form[name='fa_paa_fourth_step_{{ categoryName }}']").submit(function() {
            if ($('#fa_paa_fourth_step_{{ categoryName }}_save').hasClass('disabled')) {
                return false;
            }
        });
    });
    function enableDisableNextButton(){
        $('#fa_paa_fourth_step_{{ categoryName }}_save').removeClass('disabled');
        $('#fa_paa_fourth_step_{{ categoryName }}_preview').removeClass('disabled');
        var requiredFieldsUpdated = $(':input[required]:visible');
        requiredFieldsUpdated.each(function( index, element ) {
            if (!element.value) {
                console.log('empty' + element.id)
                if (!$('#fa_paa_fourth_step_{{ categoryName }}_save').hasClass('disabled')) {
                    $('#fa_paa_fourth_step_{{ categoryName }}_save').addClass('disabled');
                }
                if (!$('#fa_paa_fourth_step_{{ categoryName }}_preview').hasClass('disabled')) {
                    $('#fa_paa_fourth_step_{{ categoryName }}_preview').addClass('disabled');
                }
            }
        });
    }
</script>